{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cesar Boutoile777\\\\Connexion\\\\frontend\\\\dashboard\\\\src\\\\pages\\\\ImporterDonnees.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { FiUpload, FiEdit, FiCheckCircle, FiDatabase } from 'react-icons/fi';\nimport * as XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Importation() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [data, setData] = useState([]);\n  const [editMode, setEditMode] = useState(false);\n  const [editFinished, setEditFinished] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [importStatus, setImportStatus] = useState(null);\n  const [selectedFacilite, setSelectedFacilite] = useState('');\n  const [faciliteConfirmee, setFaciliteConfirmee] = useState(false);\n  const [choixFaciliteObligatoire, setChoixFaciliteObligatoire] = useState(false); // ✅ nouveau\n\n  const rowsPerPage = 101;\n  const handleFileChange = e => {\n    const selectedFile = e.target.files[0];\n    setFile(selectedFile);\n    setEditFinished(false);\n    setEditMode(false);\n    setCurrentPage(1);\n    setImportStatus(null);\n    const reader = new FileReader();\n    reader.onload = evt => {\n      const bstr = evt.target.result;\n      const wb = XLSX.read(bstr, {\n        type: 'binary'\n      });\n      const wsname = wb.SheetNames[0];\n      const ws = wb.Sheets[wsname];\n      const jsonData = XLSX.utils.sheet_to_json(ws, {\n        header: 1\n      });\n      setData(jsonData);\n    };\n    reader.readAsBinaryString(selectedFile);\n  };\n  const handleEdit = () => {\n    setEditMode(true);\n    setEditFinished(false);\n  };\n  const handleFinishEdit = () => {\n    setEditMode(false);\n    setEditFinished(true);\n  };\n  const handleCellChange = (rowIndex, colIndex, value) => {\n    const newData = [...data];\n    newData[rowIndex][colIndex] = value;\n    setData(newData);\n  };\n  const handleConfirmFacilite = () => {\n    if (!selectedFacilite) {\n      setChoixFaciliteObligatoire(true);\n    } else {\n      setFaciliteConfirmee(true);\n      setChoixFaciliteObligatoire(false);\n    }\n  };\n  const handleImportToDB = async () => {\n    if (!file) {\n      setImportStatus({\n        success: false,\n        message: \"Veuillez sélectionner un fichier avant d'importer.\"\n      });\n      return;\n    }\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('type_facilite', selectedFacilite);\n      const response = await fetch('http://localhost:5000/auth/import_excel', {\n        credentials: \"include\",\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`Erreur serveur : ${errorText}`);\n      }\n      await response.json(); // on ne garde pas le message de succès\n      setImportStatus(null); // pas de message visible après import réussi\n    } catch (error) {\n      setImportStatus({\n        success: false,\n        message: error.message || \"Erreur lors de l'importation.\"\n      });\n    }\n  };\n  const totalPages = Math.ceil(data.length / rowsPerPage);\n  const startIndex = (currentPage - 1) * rowsPerPage;\n  const endIndex = startIndex + rowsPerPage;\n  const pageData = data.slice(startIndex, endIndex);\n  const inputStyle = {\n    width: '100%',\n    minWidth: '200px',\n    border: 'none',\n    backgroundColor: 'transparent',\n    padding: '12px 16px',\n    fontFamily: 'inherit',\n    fontSize: 'inherit',\n    lineHeight: 'inherit',\n    color: 'black',\n    outline: 'none',\n    boxSizing: 'border-box',\n    textAlign: 'left'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 px-4 py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl md:text-5xl font-extrabold text-center text-green-700 mb-8\",\n        children: \"Importation Excel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), !faciliteConfirmee && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-lg p-10 w-full max-w-xl mx-auto mb-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-green-700 mb-4 text-center\",\n          children: \"Choisissez une facilit\\xE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [\"PDA\", \"PSF\", \"Filière\"].map(facilite => /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"facilite\",\n              value: facilite,\n              checked: selectedFacilite === facilite,\n              onChange: e => setSelectedFacilite(e.target.value),\n              className: \"accent-green-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-700\",\n              children: facilite\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 19\n            }, this)]\n          }, facilite, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleConfirmFacilite,\n          className: \"mt-6 bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg w-full\",\n          children: \"Confirmer votre choix\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), choixFaciliteObligatoire && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-600 font-semibold text-center mt-4\",\n          children: \"Le choix de la facilit\\xE9 est obligatoire.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), faciliteConfirmee && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-green-700 font-semibold mb-4\",\n          children: [\"Facilit\\xE9 s\\xE9lectionn\\xE9e : \", selectedFacilite]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), !file && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-lg p-10 text-center border-2 border-dashed border-green-600 w-96 mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(FiUpload, {\n            className: \"text-green-600 mx-auto mb-4\",\n            size: 80\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-green-700 mb-2\",\n            children: \"D\\xE9posez un fichier Excel ici\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-6\",\n            children: \"Format accept\\xE9 : .xlsx\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"inline-block bg-green-600 text-white px-6 py-3 rounded-lg cursor-pointer hover:bg-green-700 transition\",\n            children: [\"Choisir un fichier Excel\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \".xlsx\",\n              className: \"hidden\",\n              onChange: handleFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 15\n        }, this), file && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-700 text-center mb-4 italic\",\n            children: [\"Fichier s\\xE9lectionn\\xE9 : \", file.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-auto rounded-lg shadow-md bg-white\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full text-sm table-auto border-collapse\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"bg-green-700 text-white\",\n                  children: data[0] && data[0].map((col, i) => /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-4 py-3 text-left font-semibold\",\n                    children: col\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: pageData.slice(1).map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"even:bg-gray-50 hover:bg-green-50\",\n                  children: row.map((cell, colIndex) => /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3 border-t border-gray-200 align-top\",\n                    style: editMode ? {\n                      minWidth: '200px'\n                    } : {},\n                    children: editMode ? /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      value: cell || '',\n                      onChange: e => handleCellChange(startIndex + rowIndex + 1, colIndex, e.target.value),\n                      style: inputStyle,\n                      spellCheck: false\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 33\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: cell\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 33\n                    }, this)\n                  }, colIndex, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 29\n                  }, this))\n                }, rowIndex, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 17\n          }, this), data.length > rowsPerPage && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center items-center gap-4 mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentPage(p => Math.max(1, p - 1)),\n              disabled: currentPage === 1,\n              className: \"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 disabled:opacity-50\",\n              children: \"Pr\\xE9c\\xE9dent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Page \", currentPage, \" / \", totalPages]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentPage(p => Math.min(totalPages, p + 1)),\n              disabled: currentPage === totalPages,\n              className: \"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 disabled:opacity-50\",\n              children: \"Suivant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap justify-center gap-4 mt-6\",\n            children: [!editMode && !editFinished && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleEdit,\n                className: \"bg-yellow-500 hover:bg-yellow-600 text-white px-5 py-2 rounded flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(FiEdit, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 25\n                }, this), \" Modifier\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleImportToDB,\n                className: \"bg-green-700 hover:bg-green-800 text-white px-5 py-2 rounded flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(FiDatabase, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 25\n                }, this), \" Importer dans la base\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true), editMode && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleFinishEdit,\n              className: \"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(FiCheckCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 23\n              }, this), \" Terminer les modifications\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 17\n          }, this), importStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `mt-4 text-center font-semibold text-red-600`,\n            children: importStatus.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n_s(Importation, \"BU94V3ZyhFdUghafql/oGzlrqAk=\");\n_c = Importation;\nexport default Importation;\n\n// import React, { useState, useEffect } from 'react';\n\n// function Importation() {\n//   const [facilites, setFacilites] = useState([]);\n//   const [selectedFacilite, setSelectedFacilite] = useState('');\n//   const [faciliteConfirmee, setFaciliteConfirmee] = useState(false);\n//   const [erreur, setErreur] = useState('');\n\n//   useEffect(() => {\n//     fetch('http://localhost:5000/auth/type_projets', {\n//       credentials: 'include',\n//     })\n//       .then((res) => res.json())\n//       .then((data) => setFacilites(data))\n//       .catch((error) =>\n//         console.error('Erreur lors du chargement des facilités :', error)\n//       );\n//   }, []);\n\n//   const handleConfirmerFacilite = async () => {\n//     if (!selectedFacilite) {\n//       setErreur('Le choix de facilité est obligatoire.');\n//       return;\n//     }\n\n//     try {\n//       await fetch('http://localhost:5000/auth/selection_type_projet', {\n//         method: 'POST',\n//         headers: {\n//           'Content-Type': 'application/json',\n//         },\n//         credentials: 'include',\n//         body: JSON.stringify({ id_type_projet: selectedFacilite }),\n//       });\n\n//       setFaciliteConfirmee(true);\n//       setErreur('');\n//     } catch (error) {\n//       console.error('Erreur lors de la confirmation de la facilité :', error);\n//     }\n//   };\n\n//   const nomFaciliteSelectionnee = facilites.find(\n//     (f) => f.id_type_projet === selectedFacilite\n//   )?.nom_facilite;\n\n//   return (\n//     <div className=\"max-w-3xl mx-auto mt-10 p-6 bg-white shadow-md rounded-lg\">\n//       <h2 className=\"text-2xl font-semibold mb-6 text-center text-green-700\">\n//         Importer des données\n//       </h2>\n\n//       {!faciliteConfirmee ? (\n//         <>\n//           <p className=\"mb-6 text-gray-600 text-center\">\n//             Sélectionnez une facilité ci-dessous :\n//           </p>\n\n//           <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6\">\n//             {facilites.map((facilite) => (\n//               <div\n//                 key={facilite.id_type_projet}\n//                 onClick={() => setSelectedFacilite(facilite.id_type_projet)}\n//                 className={`cursor-pointer border rounded-lg p-4 shadow-sm text-center transition-all duration-200 ${\n//                   selectedFacilite === facilite.id_type_projet\n//                     ? 'bg-green-100 border-green-500 text-green-800 font-semibold shadow-md'\n//                     : 'hover:bg-gray-100'\n//                 }`}\n//               >\n//                 {facilite.nom_facilite}\n//               </div>\n//             ))}\n//           </div>\n\n//           {erreur && (\n//             <p className=\"text-red-600 mb-4 text-center font-medium\">{erreur}</p>\n//           )}\n\n//           <button\n//             onClick={handleConfirmerFacilite}\n//             className=\"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg w-full\"\n//           >\n//             Confirmer votre choix\n//           </button>\n//         </>\n//       ) : (\n//         <div className=\"text-center\">\n//           <p className=\"text-gray-700 text-lg font-medium\">\n//             Facilité sélectionnée :{' '}\n//             <span className=\"text-green-700 font-semibold\">{nomFaciliteSelectionnee}</span>\n//           </p>\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\n// export default Importation;\nvar _c;\n$RefreshReg$(_c, \"Importation\");","map":{"version":3,"names":["React","useState","FiUpload","FiEdit","FiCheckCircle","FiDatabase","XLSX","jsxDEV","_jsxDEV","Fragment","_Fragment","Importation","_s","file","setFile","data","setData","editMode","setEditMode","editFinished","setEditFinished","currentPage","setCurrentPage","importStatus","setImportStatus","selectedFacilite","setSelectedFacilite","faciliteConfirmee","setFaciliteConfirmee","choixFaciliteObligatoire","setChoixFaciliteObligatoire","rowsPerPage","handleFileChange","e","selectedFile","target","files","reader","FileReader","onload","evt","bstr","result","wb","read","type","wsname","SheetNames","ws","Sheets","jsonData","utils","sheet_to_json","header","readAsBinaryString","handleEdit","handleFinishEdit","handleCellChange","rowIndex","colIndex","value","newData","handleConfirmFacilite","handleImportToDB","success","message","formData","FormData","append","response","fetch","credentials","method","body","ok","errorText","text","Error","json","error","totalPages","Math","ceil","length","startIndex","endIndex","pageData","slice","inputStyle","width","minWidth","border","backgroundColor","padding","fontFamily","fontSize","lineHeight","color","outline","boxSizing","textAlign","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","facilite","name","checked","onChange","onClick","size","accept","col","i","row","cell","style","spellCheck","p","max","disabled","min","_c","$RefreshReg$"],"sources":["C:/Users/Cesar Boutoile777/Connexion/frontend/dashboard/src/pages/ImporterDonnees.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { FiUpload, FiEdit, FiCheckCircle, FiDatabase } from 'react-icons/fi';\r\nimport * as XLSX from 'xlsx';\r\n\r\nfunction Importation() {\r\n  const [file, setFile] = useState(null);\r\n  const [data, setData] = useState([]);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [editFinished, setEditFinished] = useState(false);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [importStatus, setImportStatus] = useState(null);\r\n  const [selectedFacilite, setSelectedFacilite] = useState('');\r\n  const [faciliteConfirmee, setFaciliteConfirmee] = useState(false);\r\n  const [choixFaciliteObligatoire, setChoixFaciliteObligatoire] = useState(false); // ✅ nouveau\r\n\r\n  const rowsPerPage = 101;\r\n\r\n  const handleFileChange = (e) => {\r\n    const selectedFile = e.target.files[0];\r\n    setFile(selectedFile);\r\n    setEditFinished(false);\r\n    setEditMode(false);\r\n    setCurrentPage(1);\r\n    setImportStatus(null);\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = (evt) => {\r\n      const bstr = evt.target.result;\r\n      const wb = XLSX.read(bstr, { type: 'binary' });\r\n      const wsname = wb.SheetNames[0];\r\n      const ws = wb.Sheets[wsname];\r\n      const jsonData = XLSX.utils.sheet_to_json(ws, { header: 1 });\r\n      setData(jsonData);\r\n    };\r\n    reader.readAsBinaryString(selectedFile);\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setEditMode(true);\r\n    setEditFinished(false);\r\n  };\r\n\r\n  const handleFinishEdit = () => {\r\n    setEditMode(false);\r\n    setEditFinished(true);\r\n  };\r\n\r\n  const handleCellChange = (rowIndex, colIndex, value) => {\r\n    const newData = [...data];\r\n    newData[rowIndex][colIndex] = value;\r\n    setData(newData);\r\n  };\r\n\r\n  const handleConfirmFacilite = () => {\r\n    if (!selectedFacilite) {\r\n      setChoixFaciliteObligatoire(true);\r\n    } else {\r\n      setFaciliteConfirmee(true);\r\n      setChoixFaciliteObligatoire(false);\r\n    }\r\n  };\r\n\r\n  const handleImportToDB = async () => {\r\n    if (!file) {\r\n      setImportStatus({ success: false, message: \"Veuillez sélectionner un fichier avant d'importer.\" });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      formData.append('type_facilite', selectedFacilite);\r\n\r\n      const response = await fetch('http://localhost:5000/auth/import_excel', {\r\n        credentials: \"include\",\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`Erreur serveur : ${errorText}`);\r\n      }\r\n\r\n      await response.json(); // on ne garde pas le message de succès\r\n      setImportStatus(null); // pas de message visible après import réussi\r\n    } catch (error) {\r\n      setImportStatus({ success: false, message: error.message || \"Erreur lors de l'importation.\" });\r\n    }\r\n  };\r\n\r\n  const totalPages = Math.ceil(data.length / rowsPerPage);\r\n  const startIndex = (currentPage - 1) * rowsPerPage;\r\n  const endIndex = startIndex + rowsPerPage;\r\n  const pageData = data.slice(startIndex, endIndex);\r\n\r\n  const inputStyle = {\r\n    width: '100%',\r\n    minWidth: '200px',\r\n    border: 'none',\r\n    backgroundColor: 'transparent',\r\n    padding: '12px 16px',\r\n    fontFamily: 'inherit',\r\n    fontSize: 'inherit',\r\n    lineHeight: 'inherit',\r\n    color: 'black',\r\n    outline: 'none',\r\n    boxSizing: 'border-box',\r\n    textAlign: 'left',\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 px-4 py-8\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <h1 className=\"text-4xl md:text-5xl font-extrabold text-center text-green-700 mb-8\">Importation Excel</h1>\r\n\r\n        {!faciliteConfirmee && (\r\n          <div className=\"bg-white rounded-xl shadow-lg p-10 w-full max-w-xl mx-auto mb-10\">\r\n            <h2 className=\"text-xl font-semibold text-green-700 mb-4 text-center\">Choisissez une facilité</h2>\r\n            <div className=\"space-y-2\">\r\n              {[\"PDA\", \"PSF\", \"Filière\"].map((facilite) => (\r\n                <label key={facilite} className=\"flex items-center gap-3\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"facilite\"\r\n                    value={facilite}\r\n                    checked={selectedFacilite === facilite}\r\n                    onChange={(e) => setSelectedFacilite(e.target.value)}\r\n                    className=\"accent-green-600\"\r\n                  />\r\n                  <span className=\"text-gray-700\">{facilite}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n            <button\r\n              onClick={handleConfirmFacilite}\r\n              className=\"mt-6 bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg w-full\"\r\n            >\r\n              Confirmer votre choix\r\n            </button>\r\n\r\n            {choixFaciliteObligatoire && (\r\n              <div className=\"text-red-600 font-semibold text-center mt-4\">\r\n                Le choix de la facilité est obligatoire.\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {faciliteConfirmee && (\r\n          <>\r\n            <div className=\"text-center text-green-700 font-semibold mb-4\">\r\n              Facilité sélectionnée : {selectedFacilite}\r\n            </div>\r\n\r\n            {/* File Upload */}\r\n            {!file && (\r\n              <div className=\"bg-white rounded-xl shadow-lg p-10 text-center border-2 border-dashed border-green-600 w-96 mx-auto\">\r\n                <FiUpload className=\"text-green-600 mx-auto mb-4\" size={80} />\r\n                <h2 className=\"text-xl font-semibold text-green-700 mb-2\">Déposez un fichier Excel ici</h2>\r\n                <p className=\"text-gray-600 mb-6\">Format accepté : .xlsx</p>\r\n                <label className=\"inline-block bg-green-600 text-white px-6 py-3 rounded-lg cursor-pointer hover:bg-green-700 transition\">\r\n                  Choisir un fichier Excel\r\n                  <input type=\"file\" accept=\".xlsx\" className=\"hidden\" onChange={handleFileChange} />\r\n                </label>\r\n              </div>\r\n            )}\r\n\r\n            {/* Table Display */}\r\n            {file && (\r\n              <div className=\"mt-8\">\r\n                <div className=\"text-gray-700 text-center mb-4 italic\">Fichier sélectionné : {file.name}</div>\r\n\r\n                <div className=\"overflow-auto rounded-lg shadow-md bg-white\">\r\n                  <table className=\"min-w-full text-sm table-auto border-collapse\">\r\n                    <thead>\r\n                      <tr className=\"bg-green-700 text-white\">\r\n                        {data[0] && data[0].map((col, i) => (\r\n                          <th key={i} className=\"px-4 py-3 text-left font-semibold\">{col}</th>\r\n                        ))}\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {pageData.slice(1).map((row, rowIndex) => (\r\n                        <tr key={rowIndex} className=\"even:bg-gray-50 hover:bg-green-50\">\r\n                          {row.map((cell, colIndex) => (\r\n                            <td key={colIndex} className=\"px-4 py-3 border-t border-gray-200 align-top\" style={editMode ? { minWidth: '200px' } : {}}>\r\n                              {editMode ? (\r\n                                <input\r\n                                  type=\"text\"\r\n                                  value={cell || ''}\r\n                                  onChange={(e) => handleCellChange(startIndex + rowIndex + 1, colIndex, e.target.value)}\r\n                                  style={inputStyle}\r\n                                  spellCheck={false}\r\n                                />\r\n                              ) : (\r\n                                <span>{cell}</span>\r\n                              )}\r\n                            </td>\r\n                          ))}\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n\r\n                {data.length > rowsPerPage && (\r\n                  <div className=\"flex justify-center items-center gap-4 mt-6\">\r\n                    <button onClick={() => setCurrentPage((p) => Math.max(1, p - 1))} disabled={currentPage === 1} className=\"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 disabled:opacity-50\">\r\n                      Précédent\r\n                    </button>\r\n                    <span>Page {currentPage} / {totalPages}</span>\r\n                    <button onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))} disabled={currentPage === totalPages} className=\"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 disabled:opacity-50\">\r\n                      Suivant\r\n                    </button>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"flex flex-wrap justify-center gap-4 mt-6\">\r\n                  {!editMode && !editFinished && (\r\n                    <>\r\n                      <button onClick={handleEdit} className=\"bg-yellow-500 hover:bg-yellow-600 text-white px-5 py-2 rounded flex items-center gap-2\">\r\n                        <FiEdit /> Modifier\r\n                      </button>\r\n                      <button onClick={handleImportToDB} className=\"bg-green-700 hover:bg-green-800 text-white px-5 py-2 rounded flex items-center gap-2\">\r\n                        <FiDatabase /> Importer dans la base\r\n                      </button>\r\n                    </>\r\n                  )}\r\n\r\n                  {editMode && (\r\n                    <button onClick={handleFinishEdit} className=\"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded flex items-center gap-2\">\r\n                      <FiCheckCircle /> Terminer les modifications\r\n                    </button>\r\n                  )}\r\n                </div>\r\n\r\n                {importStatus && (\r\n                  <div className={`mt-4 text-center font-semibold text-red-600`}>\r\n                    {importStatus.message}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Importation;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React, { useState, useEffect } from 'react';\r\n\r\n// function Importation() {\r\n//   const [facilites, setFacilites] = useState([]);\r\n//   const [selectedFacilite, setSelectedFacilite] = useState('');\r\n//   const [faciliteConfirmee, setFaciliteConfirmee] = useState(false);\r\n//   const [erreur, setErreur] = useState('');\r\n\r\n//   useEffect(() => {\r\n//     fetch('http://localhost:5000/auth/type_projets', {\r\n//       credentials: 'include',\r\n//     })\r\n//       .then((res) => res.json())\r\n//       .then((data) => setFacilites(data))\r\n//       .catch((error) =>\r\n//         console.error('Erreur lors du chargement des facilités :', error)\r\n//       );\r\n//   }, []);\r\n\r\n//   const handleConfirmerFacilite = async () => {\r\n//     if (!selectedFacilite) {\r\n//       setErreur('Le choix de facilité est obligatoire.');\r\n//       return;\r\n//     }\r\n\r\n//     try {\r\n//       await fetch('http://localhost:5000/auth/selection_type_projet', {\r\n//         method: 'POST',\r\n//         headers: {\r\n//           'Content-Type': 'application/json',\r\n//         },\r\n//         credentials: 'include',\r\n//         body: JSON.stringify({ id_type_projet: selectedFacilite }),\r\n//       });\r\n\r\n//       setFaciliteConfirmee(true);\r\n//       setErreur('');\r\n//     } catch (error) {\r\n//       console.error('Erreur lors de la confirmation de la facilité :', error);\r\n//     }\r\n//   };\r\n\r\n//   const nomFaciliteSelectionnee = facilites.find(\r\n//     (f) => f.id_type_projet === selectedFacilite\r\n//   )?.nom_facilite;\r\n\r\n//   return (\r\n//     <div className=\"max-w-3xl mx-auto mt-10 p-6 bg-white shadow-md rounded-lg\">\r\n//       <h2 className=\"text-2xl font-semibold mb-6 text-center text-green-700\">\r\n//         Importer des données\r\n//       </h2>\r\n\r\n//       {!faciliteConfirmee ? (\r\n//         <>\r\n//           <p className=\"mb-6 text-gray-600 text-center\">\r\n//             Sélectionnez une facilité ci-dessous :\r\n//           </p>\r\n\r\n//           <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6\">\r\n//             {facilites.map((facilite) => (\r\n//               <div\r\n//                 key={facilite.id_type_projet}\r\n//                 onClick={() => setSelectedFacilite(facilite.id_type_projet)}\r\n//                 className={`cursor-pointer border rounded-lg p-4 shadow-sm text-center transition-all duration-200 ${\r\n//                   selectedFacilite === facilite.id_type_projet\r\n//                     ? 'bg-green-100 border-green-500 text-green-800 font-semibold shadow-md'\r\n//                     : 'hover:bg-gray-100'\r\n//                 }`}\r\n//               >\r\n//                 {facilite.nom_facilite}\r\n//               </div>\r\n//             ))}\r\n//           </div>\r\n\r\n//           {erreur && (\r\n//             <p className=\"text-red-600 mb-4 text-center font-medium\">{erreur}</p>\r\n//           )}\r\n\r\n//           <button\r\n//             onClick={handleConfirmerFacilite}\r\n//             className=\"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg w-full\"\r\n//           >\r\n//             Confirmer votre choix\r\n//           </button>\r\n//         </>\r\n//       ) : (\r\n//         <div className=\"text-center\">\r\n//           <p className=\"text-gray-700 text-lg font-medium\">\r\n//             Facilité sélectionnée :{' '}\r\n//             <span className=\"text-green-700 font-semibold\">{nomFaciliteSelectionnee}</span>\r\n//           </p>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default Importation;\r\n\r\n\r\n             "],"mappings":"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/E,YAAY,CAAC0C;UAAO;YAAAsC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClB,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CACN;MAAA,eACD,CACH;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC9F,EAAA,CArPQD,WAAW;AAAAkH,EAAA,GAAXlH,WAAW;AAuPpB,eAAeA,WAAW;;AAkB1B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA,IAAAkH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}