{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cesar Boutoile777\\\\Connexion\\\\frontend\\\\dashboard\\\\src\\\\pages\\\\Facilite.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Facilite() {\n  _s();\n  const [nomFacilite, setNomFacilite] = useState('');\n  const [message, setMessage] = useState('');\n  const [facilites, setFacilites] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // Fonction pour charger les facilités\n  const fetchFacilites = async () => {\n    setLoading(true);\n    setMessage('');\n    try {\n      const res = await fetch('http://localhost:5000/auth/types_projets', {\n        credentials: 'include' // si tu utilises les cookies / session\n      });\n      if (!res.ok) throw new Error('Erreur lors du chargement des facilités');\n      const data = await res.json();\n      setFacilites(data);\n    } catch (error) {\n      setMessage(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Chargement initial\n  useEffect(() => {\n    fetchFacilites();\n  }, []);\n\n  // Soumission du formulaire\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMessage('');\n    if (!nomFacilite.trim()) {\n      setMessage('Merci de remplir le champ nom de la facilité');\n      return;\n    }\n    try {\n      const res = await fetch('http://localhost:5000/auth/types_projets', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          nom_facilite: nomFacilite.trim()\n        })\n      });\n      const data = await res.json();\n      if (!res.ok) {\n        setMessage(data.error || \"Erreur lors de l'ajout de la facilité\");\n        return;\n      }\n\n      // Ajout réussi : on recharge la liste\n      setNomFacilite('');\n      setMessage('Facilité ajoutée avec succès !');\n      fetchFacilites();\n    } catch (error) {\n      setMessage('Erreur réseau : impossible de joindre le serveur');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full min-h-screen bg-gray-50 flex flex-col items-center px-4 py-10\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-5xl font-extrabold text-green-700 mb-12\",\n      children: \"Nos Facilit\\xE9s\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-2xl bg-white rounded-lg shadow-md p-8 mb-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-semibold text-green-700 mb-6 text-center\",\n        children: \"Ajouter une facilit\\xE9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"flex flex-col space-y-6\",\n        noValidate: true,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Nom de la facilit\\xE9\",\n          className: \"border border-gray-300 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-green-400\",\n          value: nomFacilite,\n          onChange: e => setNomFacilite(e.target.value),\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-green-700 hover:bg-green-600 transition text-white font-semibold py-3 rounded-md\",\n          disabled: loading,\n          children: loading ? 'Traitement...' : 'Ajouter'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-center ${message.includes('succès') ? 'text-green-600' : 'text-red-600'}`,\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-2xl bg-white rounded-lg shadow-md p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-semibold text-green-700 mb-6 text-center\",\n        children: \"Liste des facilit\\xE9s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-gray-500\",\n        children: \"Chargement...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this) : facilites.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-gray-500\",\n        children: \"Aucune facilit\\xE9 disponible pour le moment.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-4\",\n        children: facilites.map(f => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"border border-gray-300 rounded-md p-4 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold text-gray-800\",\n              children: f.nom_facilite\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: [\"Auteur : \", f.auteur, \" \\u2014 Cr\\xE9\\xE9 le \", f.date_creation || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-green-600 font-mono\",\n            children: f.id_type_projet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }, this)]\n        }, f.id_type_projet, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(Facilite, \"SLvBkyWUYa88RdyjwDmzUa+8CvE=\");\n_c = Facilite;\nexport default Facilite;\nvar _c;\n$RefreshReg$(_c, \"Facilite\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Facilite","_s","nomFacilite","setNomFacilite","message","setMessage","facilites","setFacilites","loading","setLoading","fetchFacilites","res","fetch","credentials","ok","Error","data","json","error","handleSubmit","e","preventDefault","trim","method","headers","body","JSON","stringify","nom_facilite","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","noValidate","type","placeholder","value","onChange","target","disabled","includes","length","map","f","auteur","date_creation","id_type_projet","_c","$RefreshReg$"],"sources":["C:/Users/Cesar Boutoile777/Connexion/frontend/dashboard/src/pages/Facilite.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction Facilite() {\r\n  const [nomFacilite, setNomFacilite] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [facilites, setFacilites] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Fonction pour charger les facilités\r\n  const fetchFacilites = async () => {\r\n    setLoading(true);\r\n    setMessage('');\r\n    try {\r\n      const res = await fetch('http://localhost:5000/auth/types_projets', {\r\n        credentials: 'include', // si tu utilises les cookies / session\r\n      });\r\n      if (!res.ok) throw new Error('Erreur lors du chargement des facilités');\r\n      const data = await res.json();\r\n      setFacilites(data);\r\n    } catch (error) {\r\n      setMessage(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Chargement initial\r\n  useEffect(() => {\r\n    fetchFacilites();\r\n  }, []);\r\n\r\n  // Soumission du formulaire\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setMessage('');\r\n\r\n    if (!nomFacilite.trim()) {\r\n      setMessage('Merci de remplir le champ nom de la facilité');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:5000/auth/types_projets', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ nom_facilite: nomFacilite.trim() }),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (!res.ok) {\r\n        setMessage(data.error || \"Erreur lors de l'ajout de la facilité\");\r\n        return;\r\n      }\r\n\r\n      // Ajout réussi : on recharge la liste\r\n      setNomFacilite('');\r\n      setMessage('Facilité ajoutée avec succès !');\r\n      fetchFacilites();\r\n\r\n    } catch (error) {\r\n      setMessage('Erreur réseau : impossible de joindre le serveur');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full min-h-screen bg-gray-50 flex flex-col items-center px-4 py-10\">\r\n      <h1 className=\"text-5xl font-extrabold text-green-700 mb-12\">Nos Facilités</h1>\r\n\r\n      <div className=\"w-full max-w-2xl bg-white rounded-lg shadow-md p-8 mb-12\">\r\n        <h2 className=\"text-3xl font-semibold text-green-700 mb-6 text-center\">Ajouter une facilité</h2>\r\n\r\n        <form onSubmit={handleSubmit} className=\"flex flex-col space-y-6\" noValidate>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Nom de la facilité\"\r\n            className=\"border border-gray-300 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n            value={nomFacilite}\r\n            onChange={(e) => setNomFacilite(e.target.value)}\r\n            disabled={loading}\r\n          />\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-green-700 hover:bg-green-600 transition text-white font-semibold py-3 rounded-md\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? 'Traitement...' : 'Ajouter'}\r\n          </button>\r\n\r\n          {message && (\r\n            <p className={`text-center ${message.includes('succès') ? 'text-green-600' : 'text-red-600'}`}>\r\n              {message}\r\n            </p>\r\n          )}\r\n        </form>\r\n      </div>\r\n\r\n      <div className=\"w-full max-w-2xl bg-white rounded-lg shadow-md p-8\">\r\n        <h2 className=\"text-3xl font-semibold text-green-700 mb-6 text-center\">Liste des facilités</h2>\r\n\r\n        {loading ? (\r\n          <p className=\"text-center text-gray-500\">Chargement...</p>\r\n        ) : facilites.length === 0 ? (\r\n          <p className=\"text-center text-gray-500\">Aucune facilité disponible pour le moment.</p>\r\n        ) : (\r\n          <ul className=\"space-y-4\">\r\n            {facilites.map((f) => (\r\n              <li\r\n                key={f.id_type_projet}\r\n                className=\"border border-gray-300 rounded-md p-4 flex justify-between items-center\"\r\n              >\r\n                <div>\r\n                  <p className=\"font-semibold text-gray-800\">{f.nom_facilite}</p>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    Auteur : {f.auteur} — Créé le {f.date_creation || 'N/A'}\r\n                  </p>\r\n                </div>\r\n                <div className=\"text-green-600 font-mono\">{f.id_type_projet}</div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Facilite;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}